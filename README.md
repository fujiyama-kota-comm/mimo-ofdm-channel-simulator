# ğŸ“¡ **mimo-ofdm-channel-simulator**

![Build](https://github.com/fujiyama-kota-comm/mimo-ofdm-channel-simulator/actions/workflows/c-cpp.yml/badge.svg)
![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Version](https://img.shields.io/github/v/tag/fujiyama-kota-comm/mimo-ofdm-channel-simulator)

A clean and modular C implementation of
**MIMO-OFDM downlink channel simulation**, including:

- 3GPP **TDL-A/B/C** fading models
- UE-speed-dependent **Jakes Doppler**
- OFDM modulation (IFFT/FFT + CP)
- Multi-QAM (BPSK/QPSK/16QAM/64QAM/256QAM)
- **ZF / MMSE MIMO equalization**
- BER evaluation for **1Ã—1 ï½ 2Ã—2 MIMO**

Designed for **5G/6G physical-layer research**, algorithm benchmarking, and education.

---

## ğŸ“˜ Overview

This repository provides a self-contained simulator for a
**3GPP-style downlink MIMO-OFDM PHY**, implementing:

- 1Ã—1, 2Ã—1, 1Ã—2, 2Ã—2 MIMO spatial multiplexing
- Frequency-selective **TDL-A/B/C channels**
- Time-varying fading using **Jakes-like Doppler**
- Linear MIMO equalizers (**ZF / MMSE**)
- Gray-mapped multi-QAM
- Full BER pipeline
  *(bit generation â†’ OFDM â†’ channel â†’ equalizer â†’ demod â†’ BER)*

Suitable for:

- Wireless communications research
- Evaluation of MIMO algorithms
- Fading channel modeling
- Lightweight PHY simulation without MATLAB or heavy frameworks

---

## ğŸ“ Project Structure

```
mimo-ofdm-channel-simulator
â”œâ”€â”€ src/                 # OFDM, TDL channel, MIMO equalizer, modulator
â”œâ”€â”€ include/             # Public headers
â”œâ”€â”€ mains/               # Main BER simulation (MIMO)
â”œâ”€â”€ results/             # BER CSV files
â”œâ”€â”€ images/              # Plots generated by python scripts
â”œâ”€â”€ python/              # Plotting scripts
â”œâ”€â”€ Makefile             # Build rules
â””â”€â”€ README.md            # Documentation
```

---

## ğŸ“‘ Features

### âœ” OFDM Processing
- Nfft = 256 (easily configurable)
- CP insertion / removal
- FFT / IFFT wrappers
- Compatible with 30 kHz NR-like numerology

### âœ” 3GPP TDL Fading Channel
- Profiles: **TDL-A / TDL-B / TDL-C**
- Rayleigh fading per tap
- Jakes-like Doppler time evolution
- Adjustable RMS delay spread
- Independent channels for each MIMO link

### âœ” Multi-QAM Modem
- BPSK / QPSK / 16QAM / 64QAM / 256QAM
- Gray mapping
- Es = 1 normalization

### âœ” MIMO Equalizers
- **ZF**
- **MMSE**
- Supports 1Ã—1, 2Ã—1, 1Ã—2, 2Ã—2
- Per-subcarrier equalization using frequency-domain H[k]

### âœ” Perfect CSI
Frequency-domain channel **H[k]** is computed directly from TDL taps
(ideal CSI for algorithm evaluation).

### âœ” BER Simulation

Main simulation program:

```
mains/mimo_ofdm_ber.c
```

Generates BER CSV:

```
results/mimo_ofdm_ber_data.csv
```

Plotting:

```
python python/plot_mimo_ofdm_ber.py
```

---

## ğŸ›  Build Instructions

### Requirements
- GCC / Clang
- make
- Linux / macOS / WSL / MinGW
- Python3 + matplotlib (optional for plotting)

### Build

```sh
make
```

Binary:

```
bin/mimo_ofdm_ber
```

Run:

```sh
make run
```

Clean:

```sh
make clean
```

---

## ğŸš€ Usage Example

Run full BER simulation:

```sh
./bin/mimo_ofdm_ber
```

Output CSV:

```
results/mimo_ofdm_ber_data.csv
```

Plot BER curves:

```sh
python python/plot_mimo_ofdm_ber.py
```

---

## ğŸ“‰ BER Performance Example

![BER graph](images/mimo_ofdm_ber_graph.png)

---

## ğŸ“‚ Source Code Structure

### src/
| File | Description |
|------|-------------|
| `ofdm.c` | OFDM modulation/demodulation |
| `modulator.c` | QAM mapping/demapping |
| `channel_tdl.c` | 3GPP TDL fading + Jakes Doppler |
| `mimo.c` | Matrix ops + ZF/MMSE equalization |

### include/
| File | Description |
|------|-------------|
| `ofdm.h` | OFDM API |
| `modulator.h` | QAM modem API |
| `channel_tdl.h` | TDL fading model |
| `mimo.h` | MIMO equalizer/matrix utilities |

### mains/
| File | Description |
|------|-------------|
| `mimo_ofdm_ber.c` | Main BER simulation program |

---

## ğŸ”’ Confidentiality Notice

All source code in this repository was developed independently
using only **public 3GPP specifications** and academic knowledge.
No proprietary or confidential information is used.

---

## ğŸ“œ License

Released under the **MIT License**.
Free for research, education, and commercial use.

---

## ğŸ¤ Contributing

Pull requests and feature suggestions are welcome.
For large changes, please open an issue first.

---

## â­ Acknowledgements

Developed as part of research on
**MIMO-OFDM, fading channels, and physical-layer signal processing**.

If you find this project useful, please consider giving it a â­ï¼

